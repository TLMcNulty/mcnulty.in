/**
 *  * Moon v1.0.0-beta.4
 *   * Copyright 2016-2019 Kabir Shah
 *    * Released under the MIT License
 *     * https://kbrsh.github.io/moon
 *      */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,function(){"use strict";var i,e={driver:function(t){return{input:function(){return t},output:function(e){t=e}}}};function t(e){var t={};for(var n in i)t[n]=i[n].input();var r=e(t);for(var a in r)i[a].output(r[a])}function f(e,t,n){this.node=e,this.element=t,this.children=n}function o(e,t,n){this.name=e,this.data=t,this.children=n}var l,S={};function T(e,t,n){if("ariaset"===t)for(var r in n)e.setAttribute("aria-"+r,n[r]);else{var a=e[t];for(var i in n)a[i]=n[i]}}function j(e,t,n,r){for(var a in n)if(!(a in r))switch(t){case"ariaset":e.removeAttribute("aria-"+a);break;case"dataset":delete e.dataset[a];break;default:e.style[a]=""}}function z(){}function B(e){var t,n=e.name,r=[];if("text"===n)t=document.createTextNode(e.data[""]);else{t=document.createElement(n);for(var a=e.children,i=0;i<a.length;i++){var o=B(a[i]);r.push(o),t.appendChild(o.element)}var l=e.data;for(var s in l){var v=l[s];if(64===s.charCodeAt(0)){var d=t.MoonEvent;null===d&&(d=t.MoonEvent=new z),d[s]=v,t.addEventListener(s.slice(1),d)}else"ariaset"===s||"dataset"===s||"style"===s?T(t,s,v):"class"===s?t.className=v:"for"===s?t.htmlFor=v:t[s]=v}}return new f(e,t,r)}return z.prototype.handleEvent=function(e){t(this["@"+(l=e).type])},Node.prototype.MoonEvent=null,{data:e,run:t,use:function(e){i=e},view:{driver:function(e){"string"==typeof e&&(e=document.querySelector(e));for(var t=e.attributes,n={},r=0;r<t.length;r++){var a=t[r];n[a.name]=a.value}var i=new f(new o(e.tagName.toLowerCase(),n,[]),e,[]);return{input:function(){return l},output:function(e){!function e(t,n){var r,a,i=t.node;if(i!==n){var o=i.name;if(o!==(t.node=n).name){var l=t.element,s=B(n),v=s.element;t.element=v,t.children=s.children,l.parentNode.replaceChild(v,l)}else if("text"===o){var d=n.data[""];i.data[""]!==d&&(t.element.data=d)}else{var f=i.data,u=n.data;if(f!==u){var c=t.element;for(var h in u){var m=f[h],p=u[h];if(m!==p)if(64===h.charCodeAt(0)){var E=c.MoonEvent;null===E&&(E=c.MoonEvent=new z),h in E?E[h]=p:(E[h]=p,c.addEventListener(h.slice(1),E))}else"ariaset"===h||"dataset"===h||"style"===h?(T(c,h,p),void 0!==m&&j(c,h,m,p)):"class"===h?c.className=p:"for"===h?c.htmlFor=p:c[h]=p}for(var y in f)if(!(y in u))if(64===y.charCodeAt(0)){var w=c.MoonEvent;delete w[y],c.removeEventListener(y.slice(1),w)}else"ariaset"===y||"dataset"===y||"style"===y?j(c,y,f[y],{}):"class"===y?c.className="":"for"===y?c.htmlFor="":(r=o,c[a=y]=r in S?S[r][a]:(S[r]=document.createElement(r))[a])}var C=n.children;if(i.children!==C){var M=t.children,N=M.length,g=C.length;if(N===g)for(var b=0;b<N;b++)e(M[b],C[b]);else{var A=t.element;if(g<N){for(var x=0;x<g;x++)e(M[x],C[x]);for(var L=g;L<N;L++)A.removeChild(M.pop().element)}else{for(var F=0;F<N;F++)e(M[F],C[F]);for(var k=N;k<g;k++){var q=B(C[k]);M.push(q),A.appendChild(q.element)}}}}}}}(i,e)}}},m:function(e,t,n){return new o(e,t,n)}}}});
